#include <vector>
#include <cstdio>
#include <cstdlib>
#include <string>
#include <cmath>
#include <iostream>
#define SQR(x) ((x)*(x)) 
using namespace std;

void from(int base, string str) {
    int N=0, Q=1;
    for(int i=str.size()-1; i>=0; --i) {
	N+=Q*(str[i]-'0');
	Q*=base;
    }
    cout<<N<<endl;
}

void to(int R, int x) {
    if (x==0) {
	cout<<"0"<<endl;
	return;
    }
    if (x>0) {
	if (x<R) {
	    cout<<x<<endl;
	    return;
	}
	int n=x-1,t=abs(R)-1,L=1;
	while (n>=t) {
	    n-=t;
	    t*=SQR(R);
	    L+=2;
	}
	vector <int> bin;
	int x0=n,R0=abs(R);
	while (x0) {
	    bin.push_back(x0%R0);
	    x0/=R0;
	}
	bin.resize(L);
	bin[L-1]=1;
	for (int i=0;i<L-1;++i)
	    if (i%2) bin[i]=-R-1-bin[i];
	for (int i=L-1;i>=0;--i) {
	    cout<<bin[i];
	}
	cout<<endl;
    } else {
	int L=2, n=abs(x)-1, t=(abs(R)-1)*abs(R);
	while (n>=t) {
	    n-=t;
	    t*=SQR(R);
	    L+=2;
	}
	vector <int> bin;
	int x0=n,R0=abs(R);
	while (x0) {
	    bin.push_back(x0%R0);
	    x0/=R0;
	}
	bin.resize(L);
	bin[L-1]=1;
	for (int i=0;i<L-1;++i) if (i%2==0) bin[i]=-R-1-bin[i];
	for (int i=L-1;i>=0;--i) {
	    cout<<bin[i];
	}
	cout<<endl;
    }

}

int main() {
    string s;
    while(cin>>s, s!="end") {
	if(s[0]=='t') {
	    s=s.substr(2,string::npos);
	    int base=atoi(s.c_str()),num;
	    cin>>num;
	    to(base,num);
	}
	else {
	    s=s.substr(4, string::npos);
	    int base=atoi(s.c_str());
	    string t;
	    cin>>t;
	    from(base, t);
	}
    }
}
