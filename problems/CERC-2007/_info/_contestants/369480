#include <cstdio>
#include <string.h>

long long int i,j,k,l,m,n;
char znak;
int wynik[1000000];

int mod(int a,int b){
	if (a%b>=0) return a%b;
	else return (a%b) + (b>0? b : -b);
}

int div(int a,int b){
	return (a- mod(a,b))/b;
}

int main(){
	while (1){
		scanf("%c",&znak);	
		if (znak=='e') break;
		
		if (znak=='f'){
			int R;
			char str[200];
			int wynik=0;
			int tmp;
			scanf("%c%c%c%c",&znak,&znak,&znak,&znak);
			scanf("%d",&R);
			scanf("%s",str);
			tmp=1;
			for (int i=strlen(str)-1;i>=0;i--){
				wynik+=(str[i]-'0')*tmp;
				tmp*=-R;
			}
			
			printf("%d\n",wynik);
			
		}
		else {
			int R,dl;
			long long int N;
			long long int tmp,tmp2;
			scanf("%c%c",&znak,&znak);
			//printf("%c",znak);
			scanf("%d %lld",&R,&N);
			
			//printf("%d",R);
						
			int j=0;
			int a=N;
			int b=-R;
			int rr;
			while (a!=0){
				rr=mod(a,b);
				//printf("%d %d\n",a,b);
				a=div(a,b);
				wynik[j]=rr;
				j++;
			}
			
			if (j==0) printf("0");
			else for (int i=j-1;i>=0;i--) printf("%d",wynik[i]);
			printf("\n");
		}
		
		scanf("\n");
	}
	
	return 0;
}