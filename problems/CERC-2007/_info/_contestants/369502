#include <cstdio>
#include <cstdlib>
#include <cstring>

#define toc(C) (C-'0')

int main() {
	char co;
	int R;
	char N[23];

	while (true) {
		co=getchar();
		switch (co) {
			case 'e' : return 0; break;
			case 'f' : getchar(); getchar(); getchar(); getchar(); break;
			case 't' : getchar(); getchar(); break;
		}


		scanf("%d",&R);
		scanf("%s",N);
		getchar();

		if (co=='f') {
			long long int cislo=0;
			long long int zaklad=1;
			int zapor=1;
			for (int i=strlen(N)-1;i>=0;i--) {
				cislo+=zapor*toc(N[i])*zaklad;	
				zaklad*=R;
				zapor=-zapor;
			}
			printf("%lld\n",cislo);
		} else {
			int norm[1024];
			int dnorm=0;
			int N1=atoi(N);

			bool minus=false;
			if (N1<0) {
				N1=-N1;
				minus=true;
			}

			while (N1>0) {
				norm[dnorm++]=N1%R;
				N1/=R;
			}

			
			int i=0;

			while (i<dnorm) {
				if ((!minus && i % 2 !=0) || (minus && i % 2 !=1)) {
					if (norm[i]!=0) {
						int j=i;
						if(dnorm-1==i){
							norm[j+1]=0;
							dnorm++;
						}
						norm[i]=R-norm[i];
						norm[i+1]++;
						while (norm[j]/R!=0) {
							norm[j]=0;
							if(dnorm-1==j){
								norm[j+1]=0;
								dnorm++;
							}
							norm[j+1]++;
							j++;
						}
					}
				}
				i++;
			}
			for (int i=dnorm-1;i>=0;i--) printf("%d",norm[i]);
			printf("\n");
		}

	}


}
