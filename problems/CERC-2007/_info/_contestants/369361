#include <cstdio>
#include <string.h>

long long int i,j,k,l,m,n;
char znak;
char wynik[1000000];

int main(){
	while (1){
		scanf("%c",&znak);	
		if (znak=='e') break;
		
		if (znak=='f'){
			int R;
			char str[20];
			int wynik=0;
			int tmp;
			scanf("%c%c%c%c",&znak,&znak,&znak,&znak);
			scanf("%d",&R);
			scanf("%s",str);
			tmp=1;
			for (int i=strlen(str)-1;i>=0;i--){
				wynik+=(str[i]-'0')*tmp;
				tmp*=-R;
			}
			
			printf("%d\n",wynik);
			
		}
		else {
			int R,dl;
			long long int N;
			long long int tmp,tmp2;
			scanf("%c%c",&znak,&znak);
			//printf("%c",znak);
			scanf("%d %lld",&R,&N);
			
			//printf("%d",R);
			
			tmp=1;
			tmp2=1*(-R);
			
			dl=0;
			int j=0;
			while (N!=0){
				//printf("%lld\n",N);
				for (int i=0;i<R;i++){
					if ((N - (i*tmp)) % tmp2 ==0){
						wynik[j]='0'+i;
						N-=i*tmp;
						break;
					}
				}
				tmp*=-R;
				tmp2*=-R;
				j++;
			}
			
			if (j==0) printf("0");
			else for (int i=j-1;i>=0;i--) printf("%c",wynik[i]);
			printf("\n");
		}
		
		scanf("\n");
	}
	
	return 0;
}