#include <cstdio>
#include <cmath>
#include <stdlib.h>

long long t[300];
int ta[300];

int main(){
	int a,b,c,g,d,e;
	char w;
	while ((w=getchar())!='e'){
		if(w=='t'){
			scanf("o-%d %d\n",&a, &b);
		//	printf("wczyt: %i %i\n", a, b);
			if(b>=0 && b<a){ printf("%d\n",b); continue;}
			c=1;
			g=0;
			t[0]=1;
			while (t[g]<abs(b)){++g; t[g]=t[g-1]*a;}
			++g;t[g]=t[g-1]*a;
			++g;t[g]=t[g-1]*a;
			++g;t[g]=t[g-1]*a;
			++g;t[g]=t[g-1]*a;
			++g;t[g]=t[g-1]*a;
			c=g;
			if((g&1)==0) g--;
			while (g>1){
		//		printf("%d g %d %d\n",g,b,t[g]);
				ta[g]=0;
				if(b<-(t[g]-a)/(a+1)) { ta[g]+=(-(t[g]-a)/(a+1)-b+t[g]-1)/t[g]; b+=t[g]*ta[g]; }
				g--;	
		//		printf("%d g %d %d\n",g,b,t[g]);
				ta[g]=0;
				if(b>(t[g]-1)/(a+1)){ ta[g]+=(b-(t[g]-1)/(a+1)-1+t[g])/t[g]; b-=t[g]*ta[g];}
				g--;
		//		printf("%d g %d %d\n",g,b,t[g]);
			} 
			ta[1]=0;
			if (b<0) { ta[g]+=(-b+t[g]-1)/t[g]; b+=t[g]*ta[g]; }
			g--;
			ta[0]=b;
			c--;
			while(ta[c]==0)c--;
			c++;
			while(c--)printf("%d",ta[c]);
			puts("");
		}
		else {
			scanf("rom-%d ",&a);
			int wyn=0;
			while((w=getchar())!='\n')wyn=-wyn*a+ w-'0';
			printf("%d\n",wyn);
		}
		}
		return 0;
}
			

