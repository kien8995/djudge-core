#include <cstdio>
using namespace std;
#define INF 200000000
char buf[100];
int tab[20];
int jeden()
{
	int r, c; scanf("%d%d", &r, &c);
	if(r==0) return 0;
	for(int i = 0; i<r; i++)
	{
		scanf("%s", buf);
		int v = 0;
		for(int j = 0; j<c; j++)
			if((buf[j]=='X'))
				v|=(1<<j);
		tab[i]=v;
	}
	int mini = INF;
	for(int k = 0; k<(1<<c); k++)
	{
		
	//	for(int i = 0; i<c; i++) printf("%d", !!(k&(1<<i)));
	//	printf("=== %d === ", k);
	//	printf("\n");
		int sum = 0;
		for(int i = 0; i<c; i++) if(k&(1<<i)) sum++;
		int last =(tab[0] ^ k ^(k<<1) ^(k>>1))&((1<<c)-1);
	//	for(int i = 0; i<c; i++) printf("%d", !!(last&(1<<i)));
	//	printf(" (%d)\n", last);
		
		int prev = k;
		for(int i = 1; i<r; i++)
		{
			for(int j = 0; j<c; j++) if(last&(1<<j)) sum++;
	//		for(int i = 0; i<c; i++) printf("%d", !!(last&(1<<i)));
	//		printf("<<\n");
			int nprev = last;
			last = (tab[i] ^ last ^ (last<<1) ^ (last>>1) ^ prev)&((1<<c)-1);
			prev = nprev;
	//		for(int i = 0; i<c; i++) printf("%d", !!(last&(1<<i)));
	//	 printf("\n");
		}
		
		//printf("!%d\n", sum);
		if(!last && sum<mini) mini = sum;
	}
	if(mini<INF) printf("You have to tap %d tiles.\n", mini);
	else printf("Damaged billboard.\n");
	return 1;
}

int main()
{
	while(jeden());
	return 0;
}
