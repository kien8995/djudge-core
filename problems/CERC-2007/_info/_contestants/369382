 #include <iostream>
 
 using namespace std;
 
 int main()
 {
	char muv[30];
	while( scanf("%s",muv) == 1 )
	{
		if( muv[0] == 'e' )
			break;
		else if( muv[0] == 't' )
		{
			int b = atoi( muv + 3 );
			
			int n=0, helyi=0;
			
			char na[25];
			int pos = 0;
			
			scanf("%d",&n);
						
			while( n != 0 )
			{
				int t;
				
				if( helyi % 2 )
				{
					if( n < 0 )
					{
						t = ((-n)%b);
						n = (n+t)/b;
					}
					else
					{
						t = (((-n)%b)+b)%b;
						n = (n+t)/b;
					}
				}
				else
				{
					if( n < 0 )
					{
						t = ((n%b)+b)%b;
						n = (n-t)/b;
					}
					else
					{
						t = n%b;
						n /= b;
					}
				}
				
				na[pos++] = '0' + (char)t;
				++helyi;
			}
			
			
			char tt[30];
			for( int i=0;i<pos;++i )
			{
				tt[i]=na[pos-1-i];
			}
			tt[pos] = 0;
			
			printf("%s\n",tt);
		}
		else
		{
			int b = -atoi( muv + 5 );
			int n=0, c=1;
			
			char nb[25];
			
			scanf("%s",nb);
			
			int len = strlen(nb);
			
			for( int i=len-1;i>=0;--i )
			{
				n += (nb[i]-'0')*c;
				c*=b;
			}
			
			printf("%d\n",n);
		}
	}
	return 0;
 }
